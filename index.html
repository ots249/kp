<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>সিভিল ৩য় সেমিস্টার কোর্স - কারিগরি পাঠশালা</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="KP 3rd Sem">
    <meta name="theme-color" content="#2563eb">
    <link rel="apple-touch-icon" href="https://i.postimg.cc/TwWJj5W5/KP-3rd-Semester.jpg">
</head>
<body>
    <div class="app">
        <!-- Banner Section -->
        <div class="banner-container">
            <img src="https://i.postimg.cc/TwWJj5W5/KP-3rd-Semester.jpg" alt="কোর্স ব্যানার" class="banner-image">
        </div>

        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 id="course-title">কারিগরি পাঠশালা কোর্স</h1>
                <p class="subtitle">ডিপ্লোমা ইন ইঞ্জিনিয়ারিং • ৩য় সেমিস্টার</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Progress Summary -->
            <div class="progress-summary" id="progress-summary">
                <span class="progress-summary-text">সর্বমোট অগ্রগতি</span>
                <div class="progress-summary-bar">
                    <div class="progress-summary-fill" style="width: 0%"></div>
                </div>
                <span class="progress-summary-percent">0%</span>
            </div>

            <!-- Sections Container -->
            <div class="sections-container" id="sections-container">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>লোড হচ্ছে...</p>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>© ২০২৬ কারিগরি পাঠশালা • সর্বস্বত্ব সংরক্ষিত</p>
        </footer>
    </div>

    <!-- Install App Button (for PWA) -->
    <div id="install-container" style="display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 1000;">
        <button id="install-button" class="install-btn">
            <i class="fas fa-download"></i> অ্যাপ ইন্সটল করুন
        </button>
    </div>

    <script src="script.js"></script>
    <script>
        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./kp/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registered: ', registration);
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed: ', error);
                    });
            });
        }

        // PWA Install Prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('install-container').style.display = 'block';
        });

        document.getElementById('install-button')?.addEventListener('click', async () => {
            if (!deferredPrompt) return;
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            console.log(`User response to the install prompt: ${outcome}`);
            deferredPrompt = null;
            document.getElementById('install-container').style.display = 'none';
        });
    </script>
</body>
        </html>